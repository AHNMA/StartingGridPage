<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Starting Grid | Der Formel 1 Podcast</title>
    <link rel="icon" type="image/png" href="logo.png" />
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Firebase SDKs (Compat version for easier CDN usage without build step) -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Custom Motorsport Animations & Styles */
        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: #1a1c1b;
            color: #f1f1f1;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, .font-display {
            font-family: 'Orbitron', sans-serif;
        }

        .clip-racer {
            clip-path: polygon(10% 0, 100% 0, 100% 90%, 90% 100%, 0 100%, 0 10%);
        }

        .clip-skew {
            clip-path: polygon(10% 0, 100% 0, 90% 100%, 0% 100%);
        }

        @keyframes drive-by {
            0% { transform: translateX(-100%) skewX(-20deg); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateX(200%) skewX(-20deg); opacity: 0; }
        }

        .speed-line {
            position: absolute;
            height: 2px;
            background: rgba(255, 255, 255, 0.1);
            width: 200px;
            animation: drive-by 2s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .spinner {
            animation: spin 1s linear infinite;
        }

        .asphalt-texture {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
        }
        
        /* Form inputs styling */
        input, textarea, select {
            background-color: #272928;
            border: 1px solid #4a4d4b;
            color: #f1f1f1;
            padding: 0.5rem;
            border-radius: 0.25rem;
            width: 100%;
            transition: all 0.2s;
        }
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #cc191a;
            box-shadow: 0 0 0 2px rgba(204, 25, 26, 0.2);
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #9ca3af;
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
        }
        
        .scroll-hide::-webkit-scrollbar {
            display: none;
        }
        .scroll-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- ICONS ---
        const Icons = {
            Menu: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>,
            X: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M18 6 6 18"/><path d="m6 6 18 18"/></svg>,
            Flag: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" x2="4" y1="22" y2="15"/></svg>,
            Play: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polygon points="6 3 20 12 6 21 6 3"/></svg>,
            Clock: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Calendar: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>,
            ArrowRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>,
            Twitter: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"/></svg>,
            Instagram: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>,
            ArrowUpRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M7 7h10v10"/><path d="M7 17 17 7"/></svg>,
            Mic: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" x2="12" y1="19" y2="22"/></svg>,
            Youtube: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"/><path d="m10 15 5-3-5-3z"/></svg>,
            Facebook: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>,
            MessageCircle: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></svg>,
            Send: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>,
            Headphones: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M3 14v3a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2Z"/><path d="M17 14v3a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2Z"/><path d="M3 14v-3a9 9 0 0 1 18 0v3"/></svg>,
            Lock: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>,
            Trash: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>,
            Edit: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>,
            Plus: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="12" x2="12" y1="5" y2="19"/><line x1="5" x2="19" y1="12" y2="12"/></svg>,
            Save: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>,
            Refresh: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>,
            Database: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg>
        };

        // --- CONSTANTS ---
        const COLORS = {
            accent: '#cc191a',
            bg: '#1a1c1b',
            bgAlt: '#272928',
            text: '#f1f1f1',
        };

        const LINKS = [
            { name: 'Spotify', url: 'https://open.spotify.com/show/248DTJayGh73lX1bXAhBRa?si=_0FgvHnURdC3mEz-g8RrBQ', icon: Icons.Headphones, category: 'platform' },
            { name: 'Apple Podcast', url: 'https://podcasts.apple.com/de/podcast/starting-grid/id1058868792', icon: Icons.Mic, category: 'platform' },
            { name: 'YouTube', url: 'https://www.youtube.com/@startinggrid_f1', icon: Icons.Youtube, category: 'platform' },
            { name: 'MeinSportPodcast', url: 'https://meinsportpodcast.de/motorsport/starting-grid/', icon: Icons.Headphones, category: 'platform' },
            { name: 'Instagram', url: 'https://instagram.com/startinggrid_f1', icon: Icons.Instagram, category: 'social' },
            { name: 'Twitter / X', url: 'https://twitter.com/startinggrid_f1', icon: Icons.Twitter, category: 'social' },
            { name: 'Facebook', url: 'https://www.facebook.com/MSPGrid', icon: Icons.Facebook, category: 'social' },
            { name: 'Discord', url: 'https://discord.gg/aRaNvy9Qch', icon: Icons.MessageCircle, category: 'community' },
            { name: 'Telegram', url: 'https://t.me/StartingGrid', icon: Icons.Send, category: 'community' },
        ];

        const HOSTS = [
            {
                name: 'Kevin Scheuren',
                role: 'Podcast Host & Videohost',
                image: 'https://picsum.photos/seed/kevin/400/600',
                socials: { twitter: 'kevin_scheuren', instagram: 'kevin_scheuren' }
            },
            {
                name: 'Dennis Lewandowski',
                role: 'Podcast Host & Videohost',
                image: 'https://picsum.photos/seed/dennis/400/600',
                socials: { twitter: 'dennis_lewan92', instagram: 'dennis_lewandowski' }
            }
        ];

        // --- DATABASE CONFIGURATION LAYER ---
        const DB_CONFIG_KEY = 'sg_firebase_config';

        class FirebaseManager {
            constructor() {
                this.db = null;
                this.initialized = false;
                this.init();
            }

            init() {
                const storedConfig = localStorage.getItem(DB_CONFIG_KEY);
                if (storedConfig) {
                    try {
                        const config = JSON.parse(storedConfig);
                        if (!firebase.apps.length) {
                            firebase.initializeApp(config);
                        }
                        this.db = firebase.firestore();
                        this.initialized = true;
                        console.log("Firebase initialized successfully");
                    } catch (e) {
                        console.error("Firebase init failed:", e);
                        localStorage.removeItem(DB_CONFIG_KEY);
                        this.initialized = false;
                    }
                }
            }

            saveConfig(configStr) {
                try {
                    const config = JSON.parse(configStr);
                    localStorage.setItem(DB_CONFIG_KEY, JSON.stringify(config));
                    window.location.reload(); // Reload to init firebase
                    return true;
                } catch (e) {
                    alert("Ungültiges JSON Format!");
                    return false;
                }
            }
            
            resetConfig() {
                localStorage.removeItem(DB_CONFIG_KEY);
                window.location.reload();
            }

            async getAllEpisodes() {
                if (!this.initialized) return [];
                try {
                    const snapshot = await this.db.collection('episodes').orderBy('dateObj', 'desc').get();
                    return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                } catch (e) {
                    console.error("Error fetching episodes:", e);
                    return [];
                }
            }

            async createEpisode(episode) {
                if (!this.initialized) return;
                // Add a date object for sorting
                const dateParts = episode.date.split('.'); // Assumes dd.mm.yyyy
                let dateObj = new Date();
                if(dateParts.length === 3) {
                     dateObj = new Date(`${dateParts[2]}-${dateParts[1]}-${dateParts[0]}`);
                }
                
                await this.db.collection('episodes').add({
                    ...episode,
                    dateObj: dateObj,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
            }

            async updateEpisode(id, updates) {
                if (!this.initialized) return;
                // Update date object if date string changes
                let extraUpdates = {};
                if(updates.date) {
                    const dateParts = updates.date.split('.');
                    if(dateParts.length === 3) {
                         extraUpdates.dateObj = new Date(`${dateParts[2]}-${dateParts[1]}-${dateParts[0]}`);
                    }
                }
                
                await this.db.collection('episodes').doc(id).update({...updates, ...extraUpdates});
            }

            async deleteEpisode(id) {
                if (!this.initialized) return;
                await this.db.collection('episodes').doc(id).delete();
            }
        }

        const dbManager = new FirebaseManager();

        // --- COMPONENTS ---

        const SpeedLines = () => {
            const lines = React.useMemo(() => Array.from({ length: 8 }).map((_, i) => ({
                top: `${Math.random() * 100}%`,
                animationDelay: `${Math.random() * 2}s`,
                animationDuration: `${0.5 + Math.random()}s`,
                opacity: 0.1 + Math.random() * 0.3
            })), []);

            return (
                <div className="absolute inset-0 overflow-hidden pointer-events-none z-0">
                    {lines.map((line, i) => (
                        <div
                            key={i}
                            className="speed-line"
                            style={{
                                top: line.top,
                                left: '-200px',
                                animationDelay: line.animationDelay,
                                animationDuration: line.animationDuration,
                                opacity: line.opacity,
                                width: `${100 + Math.random() * 300}px`
                            }}
                        />
                    ))}
                </div>
            );
        };
        
        const SetupScreen = () => {
            const [configInput, setConfigInput] = React.useState('');
            
            const handleSave = () => {
                dbManager.saveConfig(configInput);
            };

            return (
                <div className="min-h-screen bg-[#1a1c1b] text-white flex items-center justify-center p-4">
                    <div className="bg-[#272928] p-8 rounded-lg border border-[#cc191a] max-w-2xl w-full shadow-[0_0_50px_rgba(204,25,26,0.2)]">
                        <div className="flex items-center gap-4 mb-6">
                            <Icons.Database className="w-10 h-10 text-[#cc191a]" />
                            <h1 className="font-display text-3xl font-bold">Datenbank Verbindung</h1>
                        </div>
                        
                        <p className="text-gray-400 mb-6">
                            Um eine echte Datenbank ohne Node.js Server zu nutzen, verbinden wir uns direkt mit der 
                            <strong>Google Firebase Cloud</strong>. 
                        </p>
                        
                        <ol className="list-decimal list-inside text-sm text-gray-300 mb-6 space-y-2 font-mono bg-black/30 p-4 rounded">
                            <li>Gehe zu <a href="https://console.firebase.google.com" target="_blank" className="text-[#cc191a] underline">console.firebase.google.com</a></li>
                            <li>Erstelle ein neues Projekt</li>
                            <li>Erstelle eine <strong>Firestore Database</strong> (Start im Test-Mode)</li>
                            <li>Füge eine Web-App hinzu und kopiere die <strong>firebaseConfig</strong></li>
                        </ol>

                        <div className="mb-6">
                            <label className="text-xs mb-2">Füge hier das firebaseConfig JSON Objekt ein:</label>
                            <textarea 
                                value={configInput}
                                onChange={(e) => setConfigInput(e.target.value)}
                                className="font-mono text-xs h-40"
                                placeholder='{ "apiKey": "...", "authDomain": "...", ... }'
                            ></textarea>
                        </div>

                        <button onClick={handleSave} className="w-full py-4 bg-[#cc191a] hover:bg-red-700 text-white font-bold uppercase tracking-wider transition-colors rounded">
                            Verbindung herstellen
                        </button>
                    </div>
                </div>
            );
        };

        const Navbar = ({ toggleAdmin }) => {
            const [isOpen, setIsOpen] = React.useState(false);
            const navItems = [
                { name: 'Home', href: '#' },
                { name: 'Episoden', href: '#episodes' },
                { name: 'Hosts', href: '#hosts' },
                { name: 'Community', href: '#community' },
            ];

            return (
                <nav className="fixed top-0 w-full z-50 border-b-2 border-[#cc191a]/50 bg-[#1a1c1b]/95 backdrop-blur-md">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex items-center justify-between h-20">
                            
                            <div className="flex-shrink-0 flex items-center cursor-pointer hover:scale-105 transition-transform duration-300">
                                <img 
                                    src="logo.png" 
                                    alt="Starting Grid" 
                                    className="h-12 w-auto md:h-14 drop-shadow-md" 
                                    onError={(e) => { e.target.style.display='none'; e.target.nextSibling.style.display='flex'; }}
                                />
                                <span className="font-display font-bold text-2xl tracking-wider text-white hidden">
                                    STARTING <span style={{ color: COLORS.accent }}>GRID</span>
                                </span>
                            </div>

                            <div className="hidden md:block">
                                <div className="ml-10 flex items-baseline space-x-8">
                                    {navItems.map((item) => (
                                        <a
                                            key={item.name}
                                            href={item.href}
                                            className="font-display uppercase text-sm font-bold text-gray-300 hover:text-[#cc191a] transition-colors duration-200"
                                        >
                                            {item.name}
                                        </a>
                                    ))}
                                </div>
                            </div>

                            <div className="-mr-2 flex md:hidden">
                                <button
                                    onClick={() => setIsOpen(!isOpen)}
                                    className="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-[#272928] focus:outline-none"
                                >
                                    {isOpen ? <Icons.X className="block h-6 w-6" /> : <Icons.Menu className="block h-6 w-6" />}
                                </button>
                            </div>
                        </div>
                    </div>

                    {isOpen && (
                        <div className="md:hidden bg-[#1a1c1b] border-b border-[#cc191a]">
                            <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                                {navItems.map((item) => (
                                    <a
                                        key={item.name}
                                        href={item.href}
                                        onClick={() => setIsOpen(false)}
                                        className="font-display uppercase block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-[#cc191a]/20"
                                    >
                                        {item.name}
                                    </a>
                                ))}
                            </div>
                        </div>
                    )}
                </nav>
            );
        };

        const Hero = () => {
            const primaryLink = LINKS.find(l => l.name === 'Spotify') || LINKS[0];

            return (
                <div className="relative h-screen min-h-[600px] flex items-center justify-center overflow-hidden asphalt-texture">
                    <div className="absolute inset-0 bg-gradient-to-br from-[#1a1c1b] via-[#1a1c1b]/90 to-[#cc191a]/20 z-0" />
                    <SpeedLines />
                    
                    <div className="absolute -right-20 top-1/4 w-[600px] h-[600px] border-[40px] border-[#272928] rounded-full opacity-30 transform rotate-12 blur-sm pointer-events-none" />
                    <div className="absolute -left-20 bottom-0 w-[400px] h-[400px] border-[20px] border-[#cc191a] rounded-full opacity-10 transform -rotate-12 pointer-events-none" />

                    <div className="relative z-10 text-center px-4 max-w-5xl mx-auto flex flex-col items-center">
                        <div className="inline-block mb-8 px-4 py-1 border border-[#cc191a] rounded-full bg-[#cc191a]/10 backdrop-blur-sm animate-pulse">
                            <span className="text-[#cc191a] font-bold text-sm tracking-widest uppercase">Jede Woche Neu</span>
                        </div>
                        
                        <div className="mb-6 relative group">
                            <div className="absolute inset-0 bg-[#cc191a] blur-[80px] opacity-20 rounded-full animate-pulse pointer-events-none"></div>
                            
                            <img 
                                src="logo.png" 
                                alt="Starting Grid Logo" 
                                className="relative z-10 w-64 md:w-80 lg:w-[450px] h-auto drop-shadow-2xl transform hover:scale-105 hover:rotate-2 transition-all duration-500 ease-out"
                                onError={(e) => {
                                    e.target.style.display = 'none';
                                    const fallback = document.getElementById('logo-fallback');
                                    if(fallback) fallback.style.display = 'block';
                                }} 
                            />
                            <div id="logo-fallback" className="hidden font-display text-6xl font-black italic">
                                STARTING <span style={{ color: COLORS.accent }}>GRID</span>
                            </div>
                        </div>
                        
                        <h1 className="sr-only">Starting Grid</h1>

                        <p className="font-display text-xl md:text-2xl text-[#cc191a] font-bold uppercase tracking-widest mb-8">
                            Der Formel 1 Podcast
                        </p>
                        
                        <p className="max-w-2xl mx-auto text-gray-400 text-lg mb-10 leading-relaxed">
                            Analysen, News und Meinungen zur Königsklasse des Motorsports. 
                            Direkt, ehrlich und immer aus eigener Kraft.
                        </p>

                        <div className="flex flex-col sm:flex-row gap-4 justify-center items-center">
                            <a 
                                href={primaryLink.url}
                                target="_blank"
                                rel="noopener noreferrer"
                                className="group relative px-8 py-4 bg-[#cc191a] text-white font-bold uppercase tracking-wider clip-skew hover:bg-white hover:text-[#cc191a] transition-all duration-300 transform hover:-translate-y-1 shadow-[0_0_20px_rgba(204,25,26,0.5)]"
                            >
                                <div className="flex items-center gap-2 transform skew-x-[0deg]">
                                    <Icons.Play className="fill-current h-5 w-5" />
                                    <span>Jetzt Hören</span>
                                </div>
                            </a>
                            
                            <a 
                                href="#episodes"
                                className="px-8 py-4 border-2 border-white/20 text-white font-bold uppercase tracking-wider clip-skew hover:border-[#cc191a] hover:bg-[#272928] transition-all duration-300"
                            >
                                Aktuelle Folgen
                            </a>
                        </div>
                    </div>
                    
                    <div className="absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-[#1a1c1b] to-transparent z-10" />
                </div>
            );
        };

        const LatestEpisodes = ({ episodes, isLoading }) => {
            return (
                <section id="episodes" className="py-20 bg-[#1a1c1b] relative">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex items-end justify-between mb-12 border-b border-gray-800 pb-4">
                            <div>
                                <h2 className="font-display text-4xl font-bold text-white uppercase italic">
                                    Aktuelle <span style={{ color: COLORS.accent }}>Ausgaben</span>
                                </h2>
                            </div>
                            <a href="#" className="hidden sm:flex items-center text-gray-400 hover:text-[#cc191a] transition-colors">
                                Alle Episoden <Icons.ArrowRight className="ml-2 h-4 w-4" />
                            </a>
                        </div>

                        {isLoading ? (
                            <div className="flex justify-center items-center h-64">
                                <Icons.Refresh className="w-12 h-12 text-[#cc191a] spinner" />
                            </div>
                        ) : episodes.length === 0 ? (
                            <div className="text-center py-20 text-gray-500">Keine Episoden gefunden.</div>
                        ) : (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                {episodes.map((episode) => (
                                    <div key={episode.id} className="group relative bg-[#272928] rounded-none overflow-hidden hover:transform hover:-translate-y-2 transition-all duration-300 shadow-xl border-l-4 border-transparent hover:border-[#cc191a]">
                                        <div className="relative h-48 overflow-hidden">
                                            <div className="absolute inset-0 bg-gradient-to-t from-[#272928] to-transparent z-10" />
                                            <img 
                                                src={episode.image} 
                                                alt={episode.title}
                                                className="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"
                                            />
                                            <div className="absolute top-4 right-4 z-20 flex gap-2 flex-wrap justify-end">
                                                {episode.tags && episode.tags.map(tag => (
                                                    <span key={tag} className="text-xs font-bold uppercase px-2 py-1 bg-[#cc191a] text-white rounded-sm">
                                                        {tag}
                                                    </span>
                                                ))}
                                            </div>
                                        </div>

                                        <div className="p-6 relative z-20">
                                            <div className="flex items-center text-xs text-gray-400 mb-3 gap-4 font-mono">
                                                <div className="flex items-center">
                                                    <Icons.Calendar className="h-3 w-3 mr-1 text-[#cc191a]" />
                                                    {episode.date}
                                                </div>
                                                <div className="flex items-center">
                                                    <Icons.Clock className="h-3 w-3 mr-1 text-[#cc191a]" />
                                                    {episode.duration}
                                                </div>
                                            </div>

                                            <h3 className="font-display text-xl font-bold text-white mb-3 leading-tight group-hover:text-[#cc191a] transition-colors">
                                                {episode.title}
                                            </h3>
                                            
                                            <p className="text-gray-400 text-sm mb-6 line-clamp-2">
                                                {episode.description}
                                            </p>

                                            {/* Platform Links */}
                                            <div className="flex gap-2 mt-4 pt-4 border-t border-gray-700">
                                                 {episode.links?.spotify && (
                                                    <a href={episode.links.spotify} target="_blank" className="text-gray-400 hover:text-[#1DB954]" title="Spotify">
                                                        <Icons.Headphones className="w-5 h-5" />
                                                    </a>
                                                 )}
                                                 {episode.links?.apple && (
                                                    <a href={episode.links.apple} target="_blank" className="text-gray-400 hover:text-white" title="Apple Podcast">
                                                        <Icons.Mic className="w-5 h-5" />
                                                    </a>
                                                 )}
                                                 {episode.links?.youtube && (
                                                    <a href={episode.links.youtube} target="_blank" className="text-gray-400 hover:text-[#FF0000]" title="YouTube">
                                                        <Icons.Youtube className="w-5 h-5" />
                                                    </a>
                                                 )}
                                                 {episode.links?.msp && (
                                                    <a href={episode.links.msp} target="_blank" className="text-gray-400 hover:text-orange-500" title="MeinSportPodcast">
                                                        <Icons.Headphones className="w-5 h-5" />
                                                    </a>
                                                 )}
                                            </div>

                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                        
                        <div className="mt-8 text-center sm:hidden">
                            <a href="#" className="inline-flex items-center text-white hover:text-[#cc191a] font-bold uppercase">
                                Alle Episoden anzeigen <Icons.ArrowRight className="ml-2 h-4 w-4" />
                            </a>
                        </div>
                    </div>
                </section>
            );
        };

        const Hosts = () => {
            return (
                <section id="hosts" className="py-24 bg-[#272928] relative overflow-hidden">
                    <div className="absolute top-0 right-0 w-1/2 h-full bg-[#1a1c1b] transform -skew-x-12 translate-x-32 hidden lg:block pointer-events-none" />
                    
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                        <div className="text-center mb-16">
                            <h2 className="font-display text-4xl md:text-5xl font-bold text-white uppercase italic">
                                Die <span style={{ color: COLORS.accent }}>Hosts</span>
                            </h2>
                            <p className="mt-4 text-gray-400 max-w-2xl mx-auto">
                                Die Stimmen hinter Starting Grid. Kompetent, leidenschaftlich und immer nah am Geschehen.
                            </p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-12 lg:gap-24 items-center">
                            {HOSTS.map((host, index) => (
                                <div key={host.name} className={`relative group ${index % 2 !== 0 ? 'md:mt-20' : ''}`}>
                                    <div className="relative">
                                        <div className="relative h-[500px] w-full clip-racer bg-gray-800 overflow-hidden shadow-2xl transition-all duration-500 group-hover:shadow-[0_0_30px_rgba(204,25,26,0.3)]">
                                            <div className="absolute inset-0 bg-[#cc191a] mix-blend-overlay opacity-0 group-hover:opacity-20 transition-opacity duration-500 z-10" />
                                            <img 
                                                src={host.image} 
                                                alt={host.name} 
                                                className="w-full h-full object-cover filter grayscale group-hover:grayscale-0 transition-all duration-500 transform group-hover:scale-105"
                                            />
                                            
                                            <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/80 to-transparent p-8 pt-24 z-20">
                                                <h3 className="font-display text-3xl font-bold text-white uppercase italic mb-1">
                                                    {host.name}
                                                </h3>
                                                <p className="text-[#cc191a] font-bold text-sm tracking-wider uppercase mb-4">
                                                    {host.role}
                                                </p>
                                                
                                                <div className="flex space-x-4">
                                                    {host.socials.twitter && (
                                                        <a 
                                                            href={`https://twitter.com/${host.socials.twitter}`} 
                                                            target="_blank" 
                                                            rel="noreferrer"
                                                            className="text-gray-400 hover:text-white transition-colors"
                                                        >
                                                            <Icons.Twitter className="h-5 w-5" />
                                                        </a>
                                                    )}
                                                    {host.socials.instagram && (
                                                        <a 
                                                            href={`https://instagram.com/${host.socials.instagram}`} 
                                                            target="_blank" 
                                                            rel="noreferrer"
                                                            className="text-gray-400 hover:text-white transition-colors"
                                                        >
                                                            <Icons.Instagram className="h-5 w-5" />
                                                        </a>
                                                    )}
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="absolute -top-4 -right-4 w-24 h-24 border-t-4 border-r-4 border-[#cc191a] rounded-tr-3xl pointer-events-none opacity-50 group-hover:opacity-100 transition-opacity" />
                                        <div className="absolute -bottom-4 -left-4 w-24 h-24 border-b-4 border-l-4 border-[#cc191a] rounded-bl-3xl pointer-events-none opacity-50 group-hover:opacity-100 transition-opacity" />
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const SocialCard = ({ link }) => {
            const Icon = link.icon;
            return (
                <a
                    href={link.url}
                    target="_blank"
                    rel="noopener noreferrer"
                    className="group flex items-center justify-between p-6 bg-[#272928] border border-gray-800 hover:border-[#cc191a] transition-all duration-300 hover:bg-[#1a1c1b]"
                >
                    <div className="flex items-center gap-4">
                        <div className="p-3 bg-[#1a1c1b] rounded-lg group-hover:bg-[#cc191a] transition-colors duration-300">
                            <Icon className="h-6 w-6 text-white" />
                        </div>
                        <div>
                            <h4 className="font-display font-bold text-lg text-white uppercase">{link.name}</h4>
                            <span className="text-xs text-gray-500 uppercase tracking-widest group-hover:text-[#cc191a]">
                                {link.category === 'platform' ? 'Hören' : link.category === 'community' ? 'Join' : 'Follow'}
                            </span>
                        </div>
                    </div>
                    <Icons.ArrowUpRight className="h-5 w-5 text-gray-600 group-hover:text-white transform group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform" />
                </a>
            );
        };

        const SocialHub = () => {
            const platforms = LINKS.filter(l => l.category === 'platform');
            const socials = LINKS.filter(l => l.category === 'social');
            const community = LINKS.filter(l => l.category === 'community');

            return (
                <section id="community" className="py-24 bg-[#1a1c1b] relative asphalt-texture">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-16">
                            <h2 className="font-display text-4xl font-bold text-white uppercase italic">
                                Connect <span className="text-[#cc191a]">Grid</span>
                            </h2>
                            <p className="mt-4 text-gray-400">
                                Werde Teil der Community und verpasse keine Updates mehr.
                            </p>
                        </div>

                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <div className="space-y-4">
                                <h3 className="font-display text-xl text-white mb-6 pl-2 border-l-4 border-[#cc191a]">
                                    Podcast Plattformen
                                </h3>
                                <div className="flex flex-col gap-4">
                                    {platforms.map(link => <SocialCard key={link.name} link={link} />)}
                                </div>
                            </div>

                            <div className="space-y-4">
                                <h3 className="font-display text-xl text-white mb-6 pl-2 border-l-4 border-[#cc191a]">
                                    Social Media
                                </h3>
                                <div className="flex flex-col gap-4">
                                    {socials.map(link => <SocialCard key={link.name} link={link} />)}
                                </div>
                            </div>

                            <div className="space-y-4">
                                <h3 className="font-display text-xl text-white mb-6 pl-2 border-l-4 border-[#cc191a]">
                                    Community Groups
                                </h3>
                                <div className="flex flex-col gap-4">
                                    {community.map(link => <SocialCard key={link.name} link={link} />)}
                                </div>
                                
                                <div className="mt-8 p-6 bg-gradient-to-br from-[#cc191a] to-red-900 rounded-lg text-center relative overflow-hidden group">
                                    <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-30"></div>
                                    <div className="relative z-10">
                                        <h4 className="font-display font-bold text-xl text-white mb-2">Live Support?</h4>
                                        <p className="text-white/80 text-sm mb-4">Diskutiere live mit uns während den Rennen im Discord.</p>
                                        <a href="https://discord.gg/aRaNvy9Qch" className="inline-block px-6 py-2 bg-white text-[#cc191a] font-bold rounded hover:bg-gray-100 transition-colors">
                                            Join Discord
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const Footer = ({ onAdminClick }) => {
            return (
                <footer className="bg-[#0f1010] border-t border-gray-800 pt-16 pb-8">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex flex-col md:flex-row justify-between items-center mb-12">
                            
                            <div className="flex items-center gap-2 mb-8 md:mb-0">
                                <img 
                                    src="logo.png" 
                                    alt="Starting Grid" 
                                    className="h-16 w-auto opacity-90 hover:opacity-100 transition-opacity duration-300"
                                    onError={(e) => { e.target.style.display='none'; e.target.nextSibling.style.display='flex'; }}
                                />
                                <span className="hidden font-display font-bold text-2xl tracking-wider text-white">
                                    STARTING <span style={{ color: COLORS.accent }}>GRID</span>
                                </span>
                            </div>

                            <div className="flex space-x-8">
                                <a href="#" className="text-gray-400 hover:text-white text-sm uppercase tracking-widest transition-colors">Impressum</a>
                                <a href="#" className="text-gray-400 hover:text-white text-sm uppercase tracking-widest transition-colors">Datenschutz</a>
                                <a href="#" className="text-gray-400 hover:text-white text-sm uppercase tracking-widest transition-colors">Kontakt</a>
                            </div>
                        </div>

                        <div className="text-center md:text-left border-t border-gray-900 pt-8 flex justify-between items-center">
                            <p className="text-gray-600 text-sm">
                                &copy; {new Date().getFullYear()} Starting Grid Podcast.
                                <span className="hidden md:inline"> | Designed for Speed.</span>
                            </p>
                            <button onClick={onAdminClick} className="text-gray-800 hover:text-[#cc191a] transition-colors p-2">
                                <Icons.Lock className="h-4 w-4" />
                            </button>
                        </div>
                    </div>
                </footer>
            );
        };

        // --- ADMIN COMPONENTS ---

        const AdminPanel = ({ closeAdmin, resetDb }) => {
            const [episodes, setEpisodes] = React.useState([]);
            const [isLoading, setIsLoading] = React.useState(true);
            const [isSaving, setIsSaving] = React.useState(false);
            const [editingId, setEditingId] = React.useState(null);
            
            // Initial Form State
            const initialFormState = {
                title: '',
                date: new Date().toLocaleDateString('de-DE'),
                duration: '',
                description: '',
                image: 'https://picsum.photos/seed/new/600/400',
                tags: '',
                spotify: '',
                apple: '',
                youtube: '',
                msp: ''
            };
            
            const [formData, setFormData] = React.useState(initialFormState);

            // Fetch Data
            const fetchData = async () => {
                setIsLoading(true);
                const data = await dbManager.getAllEpisodes();
                setEpisodes(data);
                setIsLoading(false);
            };

            React.useEffect(() => {
                fetchData();
            }, []);

            const handleEdit = (episode) => {
                setEditingId(episode.id);
                setFormData({
                    title: episode.title,
                    date: episode.date,
                    duration: episode.duration,
                    description: episode.description,
                    image: episode.image,
                    tags: episode.tags ? episode.tags.join(', ') : '',
                    spotify: episode.links?.spotify || '',
                    apple: episode.links?.apple || '',
                    youtube: episode.links?.youtube || '',
                    msp: episode.links?.msp || ''
                });
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const handleDelete = async (id) => {
                if(confirm('Wirklich löschen?')) {
                    setIsSaving(true);
                    await dbManager.deleteEpisode(id);
                    await fetchData(); // Refresh
                    setIsSaving(false);
                }
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                setIsSaving(true);
                
                const episodeData = {
                    title: formData.title,
                    date: formData.date,
                    duration: formData.duration,
                    description: formData.description,
                    image: formData.image,
                    tags: formData.tags.split(',').map(t => t.trim()).filter(t => t),
                    links: {
                        spotify: formData.spotify,
                        apple: formData.apple,
                        youtube: formData.youtube,
                        msp: formData.msp
                    }
                };

                if (editingId) {
                    await dbManager.updateEpisode(editingId, episodeData);
                } else {
                    await dbManager.createEpisode(episodeData);
                }

                await fetchData();
                setIsSaving(false);
                setEditingId(null);
                setFormData(initialFormState);
                alert('Datenbank erfolgreich aktualisiert!');
            };

            return (
                <div className="min-h-screen bg-[#1a1c1b] text-white p-6">
                    <div className="max-w-4xl mx-auto">
                        <div className="flex justify-between items-center mb-8 border-b border-gray-700 pb-4">
                            <div className="flex items-center gap-4">
                                <h2 className="text-3xl font-display font-bold text-[#cc191a]">Database Manager</h2>
                                {isSaving && <Icons.Refresh className="w-6 h-6 animate-spin text-gray-400" />}
                            </div>
                            <div className="flex gap-4">
                                <button onClick={() => {if(confirm('Datenbankverbindung trennen?')) resetDb();}} className="text-gray-400 hover:text-[#cc191a] text-sm">
                                    DB Trennen
                                </button>
                                <button onClick={closeAdmin} className="text-gray-400 hover:text-white flex items-center gap-2">
                                    <Icons.X className="w-5 h-5" /> Schließen
                                </button>
                            </div>
                        </div>

                        {/* Editor Form */}
                        <div className="bg-[#272928] p-6 rounded-lg mb-12 shadow-xl border border-gray-700">
                            <h3 className="text-xl font-display font-bold mb-4 flex items-center gap-2">
                                {editingId ? <Icons.Edit className="w-5 h-5 text-[#cc191a]" /> : <Icons.Plus className="w-5 h-5 text-[#cc191a]" />}
                                {editingId ? 'Episode Bearbeiten' : 'Neue Episode anlegen'}
                            </h3>
                            
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label>Titel</label>
                                        <input required type="text" value={formData.title} onChange={e => setFormData({...formData, title: e.target.value})} placeholder="Folgentitel" />
                                    </div>
                                    <div>
                                        <label>Datum (dd.mm.yyyy)</label>
                                        <input required type="text" value={formData.date} onChange={e => setFormData({...formData, date: e.target.value})} placeholder="z.B. 10.03.2024" />
                                    </div>
                                    <div>
                                        <label>Länge</label>
                                        <input required type="text" value={formData.duration} onChange={e => setFormData({...formData, duration: e.target.value})} placeholder="z.B. 1h 12m" />
                                    </div>
                                    <div>
                                        <label>Bild URL</label>
                                        <input required type="text" value={formData.image} onChange={e => setFormData({...formData, image: e.target.value})} placeholder="https://..." />
                                    </div>
                                </div>
                                
                                <div>
                                    <label>Beschreibung</label>
                                    <textarea required rows="3" value={formData.description} onChange={e => setFormData({...formData, description: e.target.value})} placeholder="Was passiert in der Folge?"></textarea>
                                </div>

                                <div>
                                    <label>Tags (kommagetrennt)</label>
                                    <input type="text" value={formData.tags} onChange={e => setFormData({...formData, tags: e.target.value})} placeholder="Rennanalyse, News, Interview" />
                                </div>

                                <div className="border-t border-gray-700 pt-4 mt-4">
                                    <h4 className="text-sm font-bold text-gray-400 uppercase mb-3">Links</h4>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label>Spotify Link</label>
                                            <input type="url" value={formData.spotify} onChange={e => setFormData({...formData, spotify: e.target.value})} placeholder="https://open.spotify.com/..." />
                                        </div>
                                        <div>
                                            <label>Apple Podcast Link</label>
                                            <input type="url" value={formData.apple} onChange={e => setFormData({...formData, apple: e.target.value})} placeholder="https://podcasts.apple.com/..." />
                                        </div>
                                        <div>
                                            <label>YouTube Link</label>
                                            <input type="url" value={formData.youtube} onChange={e => setFormData({...formData, youtube: e.target.value})} placeholder="https://youtube.com/..." />
                                        </div>
                                        <div>
                                            <label>MeinSportPodcast Link</label>
                                            <input type="url" value={formData.msp} onChange={e => setFormData({...formData, msp: e.target.value})} placeholder="https://meinsportpodcast.de/..." />
                                        </div>
                                    </div>
                                </div>

                                <div className="flex justify-end gap-3 pt-4">
                                    {editingId && (
                                        <button type="button" onClick={() => {setEditingId(null); setFormData(initialFormState);}} className="px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded text-sm font-bold uppercase">
                                            Abbrechen
                                        </button>
                                    )}
                                    <button disabled={isSaving} type="submit" className={`flex items-center gap-2 px-6 py-2 bg-[#cc191a] hover:bg-red-700 rounded text-white font-bold uppercase tracking-wider transition-colors ${isSaving ? 'opacity-50 cursor-not-allowed' : ''}`}>
                                        <Icons.Save className="w-4 h-4" /> {isSaving ? 'Speichere...' : 'Speichern'}
                                    </button>
                                </div>
                            </form>
                        </div>

                        {/* List */}
                        <div className="space-y-4">
                            <h3 className="text-xl font-display font-bold mb-4">Cloud Datenbank Einträge ({episodes.length})</h3>
                            {isLoading ? (
                                <div className="text-center py-10"><Icons.Refresh className="w-8 h-8 animate-spin mx-auto text-[#cc191a]" /></div>
                            ) : (
                                episodes.map(ep => (
                                    <div key={ep.id} className="flex items-center justify-between bg-[#272928] p-4 rounded border-l-4 border-transparent hover:border-[#cc191a] transition-all">
                                        <div className="flex items-center gap-4">
                                            <img src={ep.image} className="w-16 h-16 object-cover rounded" alt="" />
                                            <div>
                                                <h4 className="font-bold text-lg">{ep.title}</h4>
                                                <span className="text-gray-400 text-xs">{ep.date} • {ep.duration}</span>
                                            </div>
                                        </div>
                                        <div className="flex gap-2">
                                            <button onClick={() => handleEdit(ep)} className="p-2 bg-gray-700 hover:bg-[#cc191a] rounded text-white transition-colors">
                                                <Icons.Edit className="w-4 h-4" />
                                            </button>
                                            <button onClick={() => handleDelete(ep.id)} className="p-2 bg-gray-700 hover:bg-red-900 rounded text-white transition-colors">
                                                <Icons.Trash className="w-4 h-4" />
                                            </button>
                                        </div>
                                    </div>
                                ))
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [view, setView] = React.useState('home'); // home | admin
            const [episodes, setEpisodes] = React.useState([]);
            const [isLoading, setIsLoading] = React.useState(true);
            const [needsConfig, setNeedsConfig] = React.useState(!dbManager.initialized);

            // Fetch Data from DB on Mount
            React.useEffect(() => {
                if (dbManager.initialized) {
                    const load = async () => {
                        setIsLoading(true);
                        const data = await dbManager.getAllEpisodes();
                        setEpisodes(data);
                        setIsLoading(false);
                    };
                    load();
                }
            }, [view]);

            if (needsConfig) {
                return <SetupScreen />;
            }

            const handleAdminLogin = () => {
                const password = prompt("Admin Passwort:");
                if(password === 'grid') {
                    setView('admin');
                } else if (password) {
                    alert('Falsches Passwort!');
                }
            };

            if (view === 'admin') {
                return <AdminPanel resetDb={() => dbManager.resetConfig()} closeAdmin={() => setView('home')} />;
            }

            return (
                <div className="min-h-screen bg-[#1a1c1b] text-[#f1f1f1] selection:bg-[#cc191a] selection:text-white scroll-smooth">
                    <Navbar />
                    <main>
                        <Hero />
                        <LatestEpisodes episodes={episodes} isLoading={isLoading} />
                        <Hosts />
                        <SocialHub />
                    </main>
                    <Footer onAdminClick={handleAdminLogin} />
                </div>
            );
        };

        const rootElement = document.getElementById('root');
        const root = ReactDOM.createRoot(rootElement);
        root.render(<App />);
    </script>
</body>
</html>